<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <link rel="manifest" href="manifest.json">
    <title>Gradient Background Website</title>
    <style>
    /* Hide scrollbar for Chrome, Safari and Opera */
    ::-webkit-scrollbar {
    display: none;
    }

    /* Hide scrollbar for IE, Edge and Firefox */
    body {
    margin: 0;
    font-family: Georgia, serif;
    color: white;
    position: relative;
    overflow-x: hidden;
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
    overscroll-behavior-y: contain;
    }
    #hume{font-size: 1.7em; color: hsl(30, 95%, 80%);}
    #mainMason{font-size: 1.2em; color:hsl(30, 85%, 82%) ;}

    body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(rgb(14, 14, 14), 30%, hsl(110, 32%, 36%));
    z-index: -1;
    transition: background 0.3s ease;
    }

    @font-face {
    font-family: 'centaur';   
    src: url(/font/CENTAUR.TTF);  
    }  
    @font-face {
    font-family: 'centaurI';   
    src: url(/font/Centaur\ Italic.ttf);  
    }    

    .container {
    display: flex;
    align-items: flex-start;
    min-height: 100vh;
    transition: flex-direction 0.3s ease;
    }

    .qu{padding: .5em; color: beige; font-style: italic; text-align: center;}

 
    .button {
        min-width: 40px !important;
    max-width: 40px !important;
    min-height: 40px !important;
    max-height: 40px !important;
    margin: 0;
    padding: 0;
    cursor: pointer;
    border: none;
    background-color: #34291e;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    flex: 0 0 40px !important;
    }
    #redGrade-background,
    #greenGrade-background,
    #arial-font,
    #georgia-font,
    #centaur-font,
    #layout-toggle {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
    min-height: 40px !important;
    flex: 0 0 40px !important;
    box-sizing: border-box !important;
    margin: 0;
    padding: 0;
    }

    .control-buttons {
    display: flex;
    gap: 4px;
    flex-direction: row;
    justify-content: center;
}
/* EXISTING CLASS - Modified properties */


/* NEW SELECTORS - For main control buttons */
/* These need corresponding data-type attributes added to the HTML */
.control-buttons button[data-type="colors"] {
    background-color: #271b1b;
    color: transparent;
}

.control-buttons button[data-type="fonts"] {
    font-family: Georgia, 'Times New Roman', Times, serif;
    background-color: #271b1b;
    color: #ab9374;
    font-size: 28px;
}

.control-buttons button[data-type="sizes"] {
    font-size: 18px;
    background-color: #271b1b;
    font-family: Georgia, 'Times New Roman', Times, serif;
    color: #9a7d6c;
}

.control-buttons button[data-type="width"] {
    font-size: 18px;
    background-color: #271b1b;
    font-family: Georgia, 'Times New Roman', Times, serif;
    color: #9a7d6c;
}
#colors-row button[data-gradient*="hsl(10"] {
    
    background: linear-gradient(rgb(14, 14, 14), hsl(10, 32%, 36%));
    color: transparent;
}

#colors-row button[data-gradient*="hsl(110"] {
    background: linear-gradient(rgb(14, 14, 14), 30%, hsl(110, 32%, 36%));
    color: transparent;
}

#colors-row button[data-gradient*="hsl(200"] {
    background: linear-gradient(rgb(14, 14, 14), 30%, hsl(200, 32%, 36%));
    color: transparent;
}

#colors-row button[data-gradient*="hsl(270"] {
    background: linear-gradient(rgb(14, 14, 14), 30%, hsl(270, 32%, 36%));
    color: transparent;
}

.option-row {
    display: none;
    flex-direction: row !important;
    gap: 4px;
    margin-top: 8px;  /* Added margin */
    justify-content: center;
}

.right-column button.button {
    width: 40px !important;
    height: 40px !important;
    min-width: 40px !important;
    min-height: 40px !important;
    max-width: 40px !important;
    max-height: 40px !important;
    flex: 0 0 40px !important;
    padding: 0 !important;
    margin: 0 !important;
    box-sizing: border-box !important;
}
/* REPLACE the existing #colors-row, #fonts-row, #sizes-row, #width-row class */
#colors-row,
#fonts-row,
#sizes-row,
#width-row {
    display: none;
    flex-direction: row !important;
    margin-top: 12px;  /* Increased from 4px */
    margin-bottom: 12px;  /* Added margin-bottom */
}

    #redGrade-background {
    background: linear-gradient(rgb(14, 14, 14), hsl(10, 32%, 36%) );
    }

    #greenGrade-background {
    background: linear-gradient(rgb(14, 14, 14), hsl(110, 32%, 36%) );
    }

    #arial-font {
    background-color: #333;
    font-family: Arial, sans-serif;
    }

    #georgia-font {
    background-color: #333;
    font-family: Georgia, serif;
    }
    #centaur-font {
    background-color: #333;
    font-family:centaur;
    }

    #fonts-row button[data-font*="Arial"] {
    font-family: Arial, sans-serif;
}

#fonts-row button[data-font*="Georgia"] {
    font-family: Georgia, serif;
}

#fonts-row button[data-font*="centaur"] {
    font-family: centaur;
}

#fonts-row button[data-font*="Times"] {
    font-family: "Times New Roman", serif;
}
#sizes-row .button, #width-row .button {
    font-size: 18px;
}


    











    .left-column, .right-column {
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    flex-direction: column;
    transition: all 0.3s ease;
    }

    .left-column {
    display: flex;
    justify-content: flex-start;
    align-items: flex-start;
    position: fixed;
    top: 50%;
    
    transform: translateY(-50%);
    flex-direction: column;
    transition: all 0.3s ease;
    left: 0;
    color: hsl(34, 98%, 90%);
    opacity: .92;
    }

    .right-column {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    right: 0;
    background: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
}
    

    
    .content {
    margin: 0 auto;
    max-width: 700px;
    width: 100%;
    color: hsl(40, 90%, 80%);
    font-size: 1.7em;
    padding-top: 2em;
    padding-bottom: 2em;
}


    .header, .sub-header, .item {
    cursor: pointer;
    margin: 1px 0;
    background: none; /* Remove background */
    border-radius: 0; /* Remove border radius */
    padding: 5px; /* Adjust padding */
    }

    .header {
    font-weight: bold;
     font-family: Georgia, 'Times New Roman', Times, serif ;
    font-size: 1.25em;
    color: hsl(34, 98%, 90%);
    
    }

    .sub-header {
        color: hsl(34, 98%, 90%);
    padding-left: 7px;
    font-size: 1.2em;
    font-family: Georgia, 'Times New Roman', Times, serif ;
    }

    .item {
    padding-left: 10px;
    color: hsl(34, 98%, 90%);
    font-family: Georgia, 'Times New Roman', Times, serif ;
    }






   



    .vertical-layout {
    display: flex;
    flex-direction: column;
    align-items: center;
    }

 /* REPLACE the existing .vertical-layout .right-column class */
.vertical-layout .right-column {
    position: absolute;
    top: 10px;  /* Changed from 0 */
    left: 50%;
    transform: translateX(-50%);
    flex-direction: column;
    width: auto;
    padding: 10px 0;  /* Added padding */
    background: none;
    z-index: 100;
}

/* REPLACE the existing .option-row class */
.option-row {
    display: none;
    flex-direction: row !important;
    gap: 4px;
    margin-top: 8px;  /* Added margin */
    justify-content: center;
}

.vertical-layout .control-buttons {
    flex-direction: row;
}

.vertical-layout .option-row {
    flex-direction: row;
    margin-top: 4px;
}

    .vertical-layout .left-column {
    position: relative;
    transform: none;
    width: 500px;
    margin-top: 80px;
    display: flex;
    flex-wrap: wrap;
    flex-direction: row;
    justify-content: center;
    gap: 10px;
    padding: 0 20px;
    }
    .hidden {
    display: none !important;
    }


    .vertical-layout .content {
    margin-top: 20px;
    padding-bottom: 50px;
    
    
    }
    .vertical-layout .sub-header + div {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    margin: 10px 0;
    width: 100%;
    }
    .vertical-layout .sub-header:not(.hidden) + div:not(.hidden) {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    width: 100%;
    }

    .vertical-layout .item:not(.hidden) {
    flex: 0 1 auto;
    margin: 3px 2px;  /* Changed from 3px 5px */
    padding: 5px 8px; /* Changed from 5px 15px */
}

    .vertical-layout .header {
    width: 600px;
    text-align: center;
    margin: 2px 0;
    display: flex;
    flex-direction: row;
    }

    .vertical-layout .sub-header {
    margin: 2px;
    margin-bottom: 10px;  /* Changed from 25px */
    padding: 2px 5px;
    text-align: center;
}

    .vertical-layout .item {
    margin: 0px;
    padding: 0px 0px;
    }
    .vertical-layout [data-group] {
    display: inline-flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    }

 
    .hidden {
    display: none;
    }
    #layout-toggle {
    background-color: #271b1b;
    color: rgb(173, 156, 147);
    border: none;
    width: 40px;
    height: 40px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    margin-left: 10px;
    }

    @media (max-width: 900px) {
    .content {
        width: 90%;
    }
}










   
    </style>
</head>
<body>








    <div class="container">
        <div class="left-column">
            <div id="hume" data-group="group9" class="header">Great  </div>
            <div data-group="group9" class="sub-header hidden"> Hume</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="myLife">My Own Life </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="ourInsight">A New Scene of Thought </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="Epicurean">Epicurean </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="theStoic"> The Stoic</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="Platonist">Platonist </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="TheSceptic">The Sceptic </div>
            
            <div data-group="group9" class="sub-header hidden">Leibnitz </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="LetterFoucher"> Letter to Foucher</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="PrefaceUniversalCharacteristic">Universal Characteristic</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="Meditations">Meditations</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="PrimaryTruths">Primary Truths</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="UltimateOriginationThings"> Ultimate Origin</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="GodLogic">God & Logic </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="Cartesians">Cartesians </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="TwoSectsNaturalists"> Two Sects</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="Locke">Locke</div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id="BarbaricPhysics">Barbaric Physics</div>
            
            <div data-group="group9" class="sub-header hidden"> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            
            <div data-group="group9" class="sub-header hidden"> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            <div class="item hidden"  data-group="group9" class="item" data-file="greats.html" data-id=""> </div>
            
            <div class="header" id="mainMason" data-group="group-mason">Mason</div>
    
            <!-- The Limit with all its existing structure -->
            <div class="header hidden" data-group="group1" data-mason="true">The Limit</div>
            <div  data-group="group1" class="sub-header hidden">Grown Up</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="maturity">Maturity</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="aman">A Man</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="prominence">Prominence</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="ambition">Ambition</div>

            <div data-group="group1" class="sub-header hidden">To Flourish</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="onwork">On Work</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="joy">Joy</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="generosity">Generosity</div>

            <div data-group="group1" class="sub-header hidden">Aim</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="positivity">Positivity</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="demands">Demands</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="ourstake">Our Stake</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="freedom">Freedom</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="thearchitect">The Architect</div>

            <div  data-group="group1" class="sub-header hidden">Joy</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="living">Living</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="happyandfree">Happy and Free</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="clear">Clear</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="theaimofliving">The Aim of Living</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="care">Care</div>

            <div   data-group="group1" class="sub-header hidden">the Good</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="peace">Peace</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="happy">Happy</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="grace">Grace</div>

            <div data-group="group1" class="sub-header hidden">At Ease</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="solid">Solid</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="strenght">Strenght</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="withouttrouble">Without Trouble</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="mind">Mind</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="memories">Memories</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="thegrey">The Grey</div>

            <div data-group="group1" class="sub-header hidden">Ends</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="offer">Offer</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="wherefore">Wherefore</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="aproposal">A Proposal</div>

            <div data-group="group1" class="sub-header hidden">Past</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="making use">Making Use</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="adolescence">Adolescence</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="olddays">Old Days</div>

            <div data-group="group1" class="sub-header hidden">Proper</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="constance">Constance</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="character">Character</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="direction">Direction</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="thetimes">The Times</div>

            <div data-group="group1" class="sub-header hidden">Days</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="life">Life</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="settled in">Settled In</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="culture">Culture</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="ofentirety">Of Entirety</div>

            <div data-group="group1" class="sub-header hidden">Ontology</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="thetree">The Tree</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="natured">Natured</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="prominence">Prominence</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="existence">Existence</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="clarity">Clarity</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="kingsgame">Kings Game</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="the philosopher">The Philosopher</div>

            <div data-group="group1" class="sub-header hidden">How We Are</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="imperative">Imperative</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="tendencies">Tendencies</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="action">Action</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="saw">Virtue</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="virtue">Saw</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="eagle">Eagle</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="therationalanimal">The Rational Animal</div>


            <div data-group="group1" class="sub-header hidden">Behind</div>
            <div class="item hidden"  data-group="group1" class="item hidden"  data-group="group1"class="item" data-file="theLimit.html" data-id="judgement">Judgement</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="deliberation">Deliberation</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="assessment">Assessment</div>

            <div data-group="group1" class="sub-header hidden">Mind</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="truth">Truth</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="inquiry">Inquiry</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="advancement">Advancement</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="restriction">Restriction</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="reproach">Reproach</div>
            <div class="item hidden"  data-group="group1" class="item" data-file="theLimit.html" data-id="mindful">Mindful</div>
           



        
            <!-- Rounding Out with all its existing structure -->
            <div class="header hidden" data-group="group2" data-mason="true">Rounding Out</div>
            <div data-group="group2" class="sub-header hidden">Theology </div>
            <!--  -->
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="gods">Gods</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="mortality">Mortality</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="church">Church</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="monopoly">Monopoly</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="extremes">Extremes</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="thedivine">The Divine</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="houseofcards">House of Cards</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="anendtobegin">An End to Begin</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="deartestament">Dear Testament</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="roomfordoubt">Room For Doubt</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="delta">Delta</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="brahma">Brahma</div>

            <!--  -->
            <div data-group="group2" class="sub-header hidden"> Heart</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="relations">Relations</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="simron">Simron</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="humble">Humble</div>

            <!--  -->
            <div data-group="group2" class="sub-header hidden">Kamloops </div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="arrival">Arrival</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="home">Home</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="reign">Reign</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="settled">Settled</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="holidays">Holidays</div>

            <!--  -->

            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="path">Path</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="theroad">The Road</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="ubiquity">Ubiquity</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="ledger">Ledger</div>
            <!--  -->
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="primary">Primary</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="1842">1842</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="ourbest">Our Best</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="concessions">Concessions</div>
            <!--  -->
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="showingup">Showing Up</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="whole">Whole</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="trust">Trust</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="fufillment">Fufillment</div>

            <!--  -->
            <div data-group="group2" class="sub-header hidden">Drawn </div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="interests">Interests</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="creation">Creation</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="prospects">Prospects</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="eastroad">East Road</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="renfrew">Renfrew</div>

            <!--  -->
            <div data-group="group2" class="sub-header hidden">World </div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="violence">Violence</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="firstprinciple">First Principle</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="clearpairs">Clear Pairs</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="intothefray">Into the Fray</div>
            <div class="item hidden"  data-group="group2" class="item" data-file="theLimit.html" data-id="discipline">Discipline</div>
            <!--  -->

          




        
            <!-- Near Light with all its existing structure -->
            <div class="header hidden" data-group="group3" data-mason="true">Near Light</div>
            <div data-group="group3" class="sub-header hidden">Good Life </div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="course">Course</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="anevenroad">An Even Road</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="thegood">The Good</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="goodsofreason">Goods of Reason</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="suitableconduct">Suitable Conduct</div>

            <!--  -->
            <div data-group="group3" class="sub-header hidden">Ease </div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="theprince">The Prince</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="outcome">Outcome</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="mark">Mark</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="construct">Construct</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="deliberate">Deliberate</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="innerweaving">Inner Weaving</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="closingstep">Closing Step</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="aman">A Man</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="embers">Embers</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="ends">Ends</div>

            <!--  -->
            <div data-group="group3" class="sub-header hidden">Mold</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="virtue">Virtue</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="tart">Tart</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="amend">Amend</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="living">Living</div>

            <!--  -->
            <div data-group="group3" class="sub-header hidden">Water</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="ameasure">A Measure</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="target">Target</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="ofdivision">Of Division</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="divisibility">Divisibility</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="ostentation">Ostentation</div>
            <!--  -->
            <div data-group="group3" class="sub-header hidden">Simple </div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="propiety">Propiety</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="forensics">Forensics</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="completion">Completion</div>
            <div class="item hidden"  data-group="group3" class="item" data-file="theLimit.html" data-id="beginningsend">Beginning's End</div>
            <!--  -->

         
            <!-- ... rest of Near Light items ... -->
        
            <!-- Summer with all its existing structure -->
            <div class="header hidden" data-group="group4" data-mason="true">Summer</div>
            <div data-group="group4" class="sub-header hidden">Ebbs</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="adultbend">Adult Bend</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="sweetqualities">Sweet Qualities</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="lushdomain">Lush Domain</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="boundofcontent">Bound of Content</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="therightfit">The Right Fit</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="rightfullhammer">Rightfull Hammer</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="basisforends">Basis For Ends</div>

            <!--  -->
            <div data-group="group4" class="sub-header hidden">Clear Sight </div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="cleanedges">Clean Edges</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="rockyworld">Rocky World</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="integrityofdepth">Integrity of Depth</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="mindormatter">Mind or Matter</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="minimalmaximums">Minimal Maximums</div>

            <!--  -->
            <div data-group="group4" class="sub-header hidden">Flush </div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="lettingyouknow">Letting You Know</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="moors">Moors</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="themanor">The Manor</div>

            <!--  -->
            <div data-group="group4" class="sub-header hidden">Honor </div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="greengarment">Green Garment</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="lastinggains">Lasting Gains</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="greenhearted">Green Hearted</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="tearsofgoodness">Tears of Goodness</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="endofdawn">End of Dawn</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="adearclaim">A Dear Claim</div>

            <!--  -->
            <div data-group="group4" class="sub-header hidden">Fruits </div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="thefullestway">The Fullest Way</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="apropercourse">A Proper Course</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="constantbend">Constant Bend</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="pathofcheer">Path of Cheer</div>
            <div class="item hidden"  data-group="group4" class="item" data-file="theLimit.html" data-id="foritself">For Itself</div>
            <!--  -->
            <!-- ... rest of Summer items ... -->
        
            <!-- Warm Winters with all its existing structure -->
            <div class="header hidden" data-group="group5" data-mason="true">Warm Winters</div>
            <div data-group="group5" class="sub-header hidden">Beyond </div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="lifeofintellect">Life of Intellect</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="theamericanscholar">The American Scholar</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="greetingtheworld">Greeting the World</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="marks">Marks</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="natureshand">Nature’s Hand</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="utilityofqualities">Utility of Qualities</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="cosmologyby5">Cosmology by 5</div>

            <!--  -->
            <div data-group="group5" class="sub-header hidden">To Be </div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="rightandwrong">Right and Wrong</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="eternityorends">Eternity or Ends</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="preferredrest">Preferred Rest</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="messagesfordeath">Messages for Death</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="confirmation">Confirmation</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="tonothing">To Nothing</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="confession">Confession</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="redandblue">Red and Blue</div>

            <!--  -->
            <div data-group="group5" class="sub-header hidden">Smelted </div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="darkwaters">Dark Waters</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="fingertips">Fingertips</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="fearofmissingout">Fear of Missing Out</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="atlas">Atlas</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="movement">Movement</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="oldscars">Old Scars</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="idlecontempt">Idle Contempt</div>

            <!--  -->
            <div data-group="group5" class="sub-header hidden"> Ruby</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="fruitsoffreedom">Fruits of Freedom</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="theheatwithin">The Heat Within</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="compromisingcreativity">Compromising Creativity</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="windingaims">Winding Aims</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="engenderedpost">Engendered Post</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="needlessrestraint">Needless Restraint</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="theagingpast">The Aging Past</div>

            <!--  -->
            <div data-group="group5" class="sub-header hidden">Waivered</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="priorities">Priorities</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="commissioned">Commissioned</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="fortune">Fortune</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="likeme">Like Me</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="obstacle">Obstacle</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="delights">Delights</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="still">Still</div>

            <!--  -->
            <div data-group="group5" class="sub-header hidden">Seen </div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="reminiscent">Reminiscent</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="shine">Shine</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="dugin">Dug In</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="thesea">The Sea</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="ironheart">Iron Heart</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="peace">Peace</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="chimeraimagine">Imagine</div>

            <!--  -->
            <div data-group="group5" class="sub-header hidden"> Beside</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="preoccupied">PreOccupied</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="circle">Circle</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="others">Others</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="knots">Knots</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="perfect">Perfect</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="beholden">Beholden</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="slack">Slack</div>

            <!--Memories-->
            <div data-group="group5" class="sub-header hidden">Memory </div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="younger">Younger</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="wilds">Wilds</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="bound">Bound</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="approach">Approach</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="rot">Rot</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="sofar">So Far</div>

            <!--  -->
            <div data-group="group5" class="sub-header hidden">Rise </div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="further">Further</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="noticed">Noticed</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="today">Today</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="withdrawn">Withdrawn</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="upright">Upright</div>
            <div class="item hidden"  data-group="group5" class="item" data-file="theLimit.html" data-id="birthday">Birthday</div>

           







           
            
            
            
            
            <div data-group="group6" class="header">Color of Ends </div>
            <div data-group="group6" class="sub-header hidden">Reproach </div>
            <!--Final Retreat  -->
            <div class="item hidden"  data-group="group6" class="item" data-file="Moral.html" data-id="doldrums">Doldrums</div>
            <div class="item hidden"  data-group="group6" class="item" data-file="Moral.html" data-id="endofanera">End of an Era</div>
            <div class="item hidden"  data-group="group6" class="item" data-file="Moral.html" data-id="aboutourdays">About our days</div>
            
            
            
            
            
            
            
            
            
            
            
            <div  data-group="group7" class="header">Nearly Modern</div>
            <div data-group="group7" class="sub-header hidden">Color </div>
            <!--  -->
            <div class="item hidden"  data-group="group7" class="item" data-file="Moral.html" data-id="amarkofawe">A Mark of Awe</div>
            <div class="item hidden"  data-group="group7" class="item" data-file="Moral.html" data-id="meandall">Me and All</div>
            <div class="item hidden"  data-group="group7" class="item" data-file="Moral.html" data-id="crookedlyfree">Crookedly Free</div>
            <div class="item hidden"  data-group="group7" class="item" data-file="Moral.html" data-id="pitchedremarks">Pitched Remarks</div>
            
            
            
            
            
            
            <div  data-group="group8" class="header">Moral  </div>
            <div data-group="group8" class="sub-header hidden"> Collective</div>
            <!-- Collective -->
            <div class="item hidden"  data-group="group8" class="item" data-file="Moral.html" data-id="properdeeds">Proper Deeds</div>
            <div class="item hidden"  data-group="group8" class="item" data-file="Moral.html" data-id="homeandbread">Home and Bread</div>
            <div class="item hidden"  data-group="group8" class="item" data-file="Moral.html" data-id="manytasks">Many Tasks</div>

           










          










         

           









            






          

        

            
         
        </div>

        <div class="content">
            
        </div>

        <div class="right-column">
            <div class="control-buttons">
                <button class="button control-toggle" data-type="colors"> </button>
                <button class="button control-toggle" data-type="fonts">f</button>
                <button class="button control-toggle" data-type="sizes">S</button>
                <button class="button control-toggle" data-type="width">W</button>
                <button class="button" id="layout-toggle">↕</button>
            </div>
            
            <div class="option-row" id="colors-row" style="display: none;">
                <button class="button" data-gradient="linear-gradient(rgb(14, 14, 14), hsl(10, 32%, 36%))"> </button>
                <button class="button" data-gradient="linear-gradient(rgb(14, 14, 14), 30%, hsl(110, 32%, 36%))"> </button>
                <button class="button" data-gradient="linear-gradient(rgb(14, 14, 14), 30%, hsl(200, 32%, 36%))"> </button>
                <button class="button" data-gradient="linear-gradient(rgb(14, 14, 14), 30%, hsl(270, 32%, 36%))"> </button>
            </div>
            
            <div class="option-row" id="fonts-row" style="display: none;">
                <button class="button" data-font="Arial, sans-serif">A</button>
                <button class="button" data-font="Georgia, serif">G</button>
                <button class="button" data-font="centaur">C</button>
                <button class="button" data-font="Times New Roman, serif">T</button>
            </div>
            
            <div class="option-row" id="sizes-row" style="display: none;">
                <button class="button" data-size="1.4em">S</button>
                <button class="button" data-size="1.7em">M</button>
                <button class="button" data-size="2em">L</button>
                <button class="button" data-size="2.3em">XL</button>
            </div>
            
            <div class="option-row" id="width-row" style="display: none;">
                <button class="button" data-width="600px">6</button>
                <button class="button" data-width="700px">7</button>
                <button class="button" data-width="800px">8</button>
                <button class="button" data-width="900px">9</button>
            </div>
        </div>
    </div>












    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".header").click(function () {
        const group = $(this).data("group");
        
        // Special handling for Mason
        if (group === "group-mason") {
            const masonHeadersVisible = $("[data-mason='true']").not(".hidden").length > 0;
            
            if (masonHeadersVisible) {
                // Hide Mason's headers and show all regular top-level headers
                $("[data-mason='true']").addClass("hidden");
                $(".header").not("[data-mason='true']").removeClass("hidden");
            } else {
                // Show only Mason's headers
                $(".header").not(this).not("[data-mason='true']").addClass("hidden");
                $("[data-mason='true']").removeClass("hidden");
            }
            // Always hide all subheaders and items
            $(".sub-header, .item").addClass("hidden");
            return;
        }
        
        // Special handling for Mason's sub-headers
        if ($(this).attr("data-mason") === "true") {
            const isExpanded = $(this).siblings(`.sub-header[data-group='${group}']`).not(".hidden").length > 0;
            
            $(".sub-header, .item").addClass("hidden");
            if (isExpanded) {
                // Show all Mason's headers again
                $("[data-mason='true']").removeClass("hidden");
                // Keep Mason visible
                $("[data-group='group-mason']").removeClass("hidden");
            } else {
                // Hide other Mason headers but keep this one
                $("[data-mason='true']").addClass("hidden");
                $(this).removeClass("hidden");
                $(this).siblings(`.sub-header[data-group='${group}']`).removeClass("hidden");
                // Keep Mason visible
                $("[data-group='group-mason']").removeClass("hidden");
            }
            return;
        }
        
        
        // Modified behavior for other headers
        const isExpanded = $(this).siblings(`.sub-header[data-group='${group}']`).not(".hidden").length > 0;

        $(".sub-header, .item").addClass("hidden");
        if (isExpanded) {
            // Show only non-Mason headers unless Mason section is active
            if ($("[data-mason='true']").not(".hidden").length > 0) {
                // If Mason section is active, keep Mason headers visible
                $("[data-mason='true']").removeClass("hidden");
                $("[data-group='group-mason']").removeClass("hidden");
            } else {
                // Otherwise show only regular headers
                $(".header").not("[data-mason='true']").removeClass("hidden");
            }
        } else {
            $(".header").not(this).addClass("hidden");
            $(this).siblings(`.sub-header[data-group='${group}']`).removeClass("hidden");
        }
    });
    $(".sub-header").click(function() {
   const group = $(this).data("group");
   const currentSubHeader = $(this);
   const isExpanded = $(this).nextUntil('.sub-header', '.item').not('.hidden').length > 0;
   
   if (!isExpanded) {
       // Hide all items and other subheaders
       $(".item, .sub-header").addClass("hidden");
       // Show current subheader
       $(this).removeClass("hidden");
       // Show items until next subheader
       $(this).nextUntil('.sub-header', '.item').removeClass("hidden");
   } else {
       // Show only sibling subheaders with same group
       $(`[data-group='${group}'].sub-header`).removeClass("hidden");
       // Hide all items
       $(".item").addClass("hidden");
   }
});
    

            // Item click to load content
            $(".item").click(function () {
                const file = $(this).data("file");
                const divId = $(this).data("id");
                $(".content").load(file + " #" + divId);
            });
        

            // Function to update background with CSS rule
            function updateBackground(backgroundValue) {
        const styleSheet = document.styleSheets[0];
        const rules = styleSheet.cssRules || styleSheet.rules;
        for (let i = 0; i < rules.length; i++) {
            if (rules[i].selectorText === "body::before") {
                rules[i].style.background = backgroundValue;
                localStorage.setItem("background", backgroundValue);
                break;
            }
        }
    }

    // Keep all your localStorage loading
    const savedBackground = localStorage.getItem("background");
    const savedFont = localStorage.getItem("font");
    const savedFontSize = localStorage.getItem("fontSize");
    const savedWidth = localStorage.getItem("contentWidth");

    if (savedBackground) {
        updateBackground(savedBackground);
    }
    if (savedFont) {
        $("body").css("font-family", savedFont);
    }
    if (savedFontSize) {
        $(".content").css("font-size", savedFontSize);
    }
    if (savedWidth) {
        $(".content").css("max-width", savedWidth);
    }

    // Add the new button handlers
    $('.control-toggle').click(function() {
    const type = $(this).data('type');
    const targetRow = $(`#${type}-row`);
    
    // If this row is already visible, hide it
    if (targetRow.css('display') === 'flex') {
        targetRow.hide();
        return;
    }
    
    // Hide all other rows
    $('.option-row').hide();
    
    // Show this row with flex display
    targetRow.css('display', 'flex');
});

    // Color buttons
    $('#colors-row button').click(function() {
        const gradient = $(this).data('gradient');
        updateBackground(gradient);
    });

    // Font buttons
    $('#fonts-row button').click(function() {
        const fontFamily = $(this).data('font');
        $("body").css("font-family", fontFamily);
        localStorage.setItem("font", fontFamily);
    });

    // Size buttons
    $('#sizes-row button').click(function() {
        const fontSize = $(this).data('size');
        $(".content").css("font-size", fontSize);
        localStorage.setItem("fontSize", fontSize);
    });

    // Width buttons
    $('#width-row button').click(function() {
        const width = $(this).data('width');
        $(".content").css("max-width", width);
        localStorage.setItem("contentWidth", width);
    });

    // Keep your layout toggle variables and code
    const layoutToggle = $("#layout-toggle");
    const container = $(".container");

    // Keep your layout toggle saved preference code
    const savedLayout = localStorage.getItem("layout");
    if (savedLayout === "vertical") {
        container.addClass("vertical-layout");
        layoutToggle.html("↔");
    }

    layoutToggle.click(function() {
        container.toggleClass("vertical-layout");
        // Reset all hidden states when toggling layout
        $(".sub-header, .item").addClass("hidden");
        $(".header").removeClass("hidden");
        
        if (container.hasClass("vertical-layout")) {
            localStorage.setItem("layout", "vertical");
            $(this).html("↔");
        } else {
            localStorage.setItem("layout", "horizontal");
            $(this).html("↕");
        }
    });
           


        });
    </script>
</body>
</html>